
Generated WS Client code based on HPCC ESP WSDL
=======================

This directory contains versioned stub code generated from WSDLs representing several HPCC ESP services.
This code is not intended to be user consumption. The WsClient classes (org.hpccsystems.ws.client) provide higher level abstraction
into the HPCC web services functionality.

These classes are generated by the axis2-wsdl2code-maven-plugin tool (see wsclient pom)

### High level steps to generate 

- Fetch appropriate WSDL file from ESP web service by postpending the "wsdl" url parameter on the target url
  - For example http://localhost:8010/WsTopology?wsdl would return the latest WSDL definition for the WsTopology service 
- Store WSDLs in the src/main/resources/WSDLs directory
- Update axis2-wsdl2code-maven-plugin section in wsclient pom file
  - Example execution section to generate stub from WSDL
  
```xml
<profiles>
  <profile>
    <id>generate-wsclient-stub</id>
   <build>
     <plugins>
       <plugin>
         <groupId>org.apache.axis2</groupId>
         <artifactId>axis2-wsdl2code-maven-plugin</artifactId>
         <version>${axis2.version}</version>
         <execution>
           <id>mydescriptiveid</id>
           <phase>process-resources</phase>
           <goals>
             <goal>wsdl2code</goal>
           </goals>
           <configuration>
             <outputDirectory>src/main/java</outputDirectory>
             <flattenFiles>true</flattenFiles>
             <unpackClasses>true</unpackClasses>
             <databindingName>adb</databindingName>
             <packageName>org.hpccsystems.ws.client.gen.axis2.myservicename.v1_00</packageName>
             <wsdlFile>src/main/resources/WSDLs/MyServicename-100.wsdl</wsdlFile>
             <syncMode>sync</syncMode>
             <wsdlVersion>1.00</wsdlVersion>
             <namespaceURIs>
               <namespaceURI>
                <uri>urn:hpccsystems:ws:wsattributes</uri>
                <packageName>org.hpccsystems.ws.client.gen.axis2.myservicename.v1_00</packageName>
               </namespaceURI>
             </namespaceURIs>
           </configuration>
         </execution> 
         ...
```
- Kick off maven build targeting the generate-wsclient-stub profile in order to trigger the axis2-wsdl2code-maven-plugin executions
- Generate user consumable wrappers
  - A tool is provided to generate wrapper classes for all stub classes generated from previous step
  - Use org.hpccsystems.ws.client.utils.Axis2ADBStubWrapperMaker to generate wrappers like the ones found in org.hpccsystems.ws.client.wrappers.gen.*
  - Sample Axis2ADBStubWrapperMaker parameters: 

```
  targetpackage=org.hpccsystems.ws.client.gen.axis2.myservicename.v1_00
  outputdir=C:\myprojects\HPCC4J\wsclient\src\main\java 
  outputpackage=org.hpccsystems.ws.client.wrappers.gen
  servicename=myservicename
```

